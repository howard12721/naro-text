# GitのCommitについて
ここではtraPのSysAd班などで活動する人が触れることになるGitに関連する重要な内容として、コミットの粒度やコミットメッセージの付け方などについて話します。
Gitの基本的な内容については省略しますので、もし不安がある人は[Git講習会の資料](https://trap-jp.github.io/git-lecture-slide/slide.pdf)や[公式のドキュメント](https://git-scm.com/book/ja/v2)を読んでください
[[toc]]

## コミットの粒度の基本原則
まず、コミットはできるだけ小さい単位で行うのが良いです。その理由としては、トラブルシューティングが容易であることが挙げられるでしょう。小さいコミットを繰り返すことにより、問題が発生した時にその原因を特定しやすくなります。また、細かい変更ごとに履歴が残るため、どの変更がどのような影響を与えたのかを簡単に追跡することができます。 加えて、チーム開発においてもメリットがあります。複数人で開発する際にはGitHubなどを活用してチームメンバーからレビューをもらうことが多いですが、その際にコミットのサイズが小さければレビューする側もどのような内容を確認すれば良いのか明快でやりやすいという利点もあります。

ここからは、具体的にどのような区切りでコミットをすれば良いかということについて話します。最も一般的なのは1つの機能追加/1箇所のバグ修正につき1コミットというように、何か1つのことをなすたびにコミットをすることです。これには前述したように、変更の影響範囲を明確にしたり、レビューをやりやすくしたりという意図があります。他にも、コーディングのフォーマットやスタイルの変更やリファクタリング(コードの整理・最適化)なども1つのコミットとして扱うこともあります。いずれにせよ、最も重要なことはチームメンバーとコミットに関するルールを共有し、それに従うことです。上記の話はあくまで基本原則であってその時の状況や開発チームの方針によって変わりうるものですから、チーム内での方針に則って進めていくことが大切でしょう。もし何かわからないことや不安なことがあれば、チームメンバーに相談することも大切です。

## コミットメッセージの書き方
次に、コミットメッセージの書き方について説明します。コミットメッセージとはGitではコミットをする際につけることができる、コミットのタイトルのようなものです。
このコミットメッセージの書き方としてはまず、変更内容が簡潔に伝わるような内容を書く必要があります。また、そのコミットが何のためのものであるかの大まかな分類(バグ修正(fix)、新機能(feat)などなど...)をコミットメッセージに含める場合もあります。より詳細な説明をする必要があれば、GitHubなどのコメント機能なども活用しましょう。コミットメッセージの書き方についてもチームごとに方針が決まっている場合があるので、チームのやり方に合わせるようにしましょう。

上記2章分の内容の総括として、実際の開発でどのようなコミットを出せば良いのか具体例を示しておきたいと思います。
みなさんにこの後作ってもらうToDoアプリを例に考えてみましょう。もし、アプリのデザインを変更するためのブランチで作業をしているとするならば、`feat:ハンバーガーメニューを作成`や`fix:ボタンが反応しない問題を修正`のような粒度でコミットを出すと良いと思います。どちらも1つのコミットでの変更される機能は1つにとどまっていそうですし、コミットメッセージからそのコミットの役割を容易に推察することができます。

ぜひみなさんも、よりより開発ができるよう、Gitの扱い方に少しずつ慣れていってください。